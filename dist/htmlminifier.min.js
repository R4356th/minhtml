import require$$0 from"clean-css";import require$$1 from"he";import require$$3 from"relateurl";import require$$5 from"terser";var htmlminifier={},htmlparser={},utils$1={};function createMap(e,t){var r={};return e.forEach((function(e){r[e]=1})),t?function(e){return 1===r[e.toLowerCase()]}:function(e){return 1===r[e]}}async function replaceAsync$1(e,t,r){const a=[];e.replace(t,((e,...t)=>{const n=r(e,...t);a.push(n)}));const n=await Promise.all(a);return e.replace(t,(()=>n.shift()))}utils$1.createMap=createMap,utils$1.createMapFromString=function(e,t){return createMap(e.split(/,/),t)},utils$1.replaceAsync=replaceAsync$1;
/*!
 * HTML Parser By John Resig (ejohn.org)
 * Modified by Juriy "kangax" Zaytsev
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 */
var createMapFromString$1=utils$1.createMapFromString,replaceAsync=utils$1.replaceAsync;function makeMap(e){return createMapFromString$1(e,!0)}var singleAttrIdentifier=/([^\s"'<>/=]+)/,singleAttrAssigns=[/=/],singleAttrValues=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^ \t\n\f\r"'`=<>]+)/.source],qnameCapture=function(){var e="A-Za-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u0131\\u0134-\\u013E\\u0141-\\u0148\\u014A-\\u017E\\u0180-\\u01C3\\u01CD-\\u01F0\\u01F4\\u01F5\\u01FA-\\u0217\\u0250-\\u02A8\\u02BB-\\u02C1\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03CE\\u03D0-\\u03D6\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2-\\u03F3\\u0401-\\u040C\\u040E-\\u044F\\u0451-\\u045C\\u045E-\\u0481\\u0490-\\u04C4\\u04C7\\u04C8\\u04CB\\u04CC\\u04D0-\\u04EB\\u04EE-\\u04F5\\u04F8\\u04F9\\u0531-\\u0556\\u0559\\u0561-\\u0586\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u063A\\u0641-\\u064A\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D3\\u06D5\\u06E5\\u06E6\\u0905-\\u0939\\u093D\\u0958-\\u0961\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8B\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AE0\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B36-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB5\\u0BB7-\\u0BB9\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D60\\u0D61\\u0E01-\\u0E2E\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E45\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD\\u0EAE\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0F40-\\u0F47\\u0F49-\\u0F69\\u10A0-\\u10C5\\u10D0-\\u10F6\\u1100\\u1102\\u1103\\u1105-\\u1107\\u1109\\u110B\\u110C\\u110E-\\u1112\\u113C\\u113E\\u1140\\u114C\\u114E\\u1150\\u1154\\u1155\\u1159\\u115F-\\u1161\\u1163\\u1165\\u1167\\u1169\\u116D\\u116E\\u1172\\u1173\\u1175\\u119E\\u11A8\\u11AB\\u11AE\\u11AF\\u11B7\\u11B8\\u11BA\\u11BC-\\u11C2\\u11EB\\u11F0\\u11F9\\u1E00-\\u1E9B\\u1EA0-\\u1EF9\\u1F00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2126\\u212A\\u212B\\u212E\\u2180-\\u2182\\u3007\\u3021-\\u3029\\u3041-\\u3094\\u30A1-\\u30FA\\u3105-\\u312C\\u4E00-\\u9FA5\\uAC00-\\uD7A3",t="["+e+"_]["+e+"0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE7-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\.\\-_\\u0300-\\u0345\\u0360\\u0361\\u0483-\\u0486\\u0591-\\u05A1\\u05A3-\\u05B9\\u05BB-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u064B-\\u0652\\u0670\\u06D6-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0901-\\u0903\\u093C\\u093E-\\u094D\\u0951-\\u0954\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A02\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A70\\u0A71\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B43\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B82\\u0B83\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C01-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C82\\u0C83\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D43\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86-\\u0F8B\\u0F90-\\u0F95\\u0F97\\u0F99-\\u0FAD\\u0FB1-\\u0FB7\\u0FB9\\u20D0-\\u20DC\\u20E1\\u302A-\\u302F\\u3099\\u309A\\xB7\\u02D0\\u02D1\\u0387\\u0640\\u0E46\\u0EC6\\u3005\\u3031-\\u3035\\u309D\\u309E\\u30FC-\\u30FE]*";return"((?:"+t+"\\:)?"+t+")"}(),startTagOpen=new RegExp("^<"+qnameCapture),startTagClose=/^\s*(\/?)>/,endTag=new RegExp("^<\\/"+qnameCapture+"[^>]*>"),doctype=/^<!DOCTYPE\s?[^>]+>/i,IS_REGEX_CAPTURING_BROKEN=!1;"x".replace(/x(.)?/g,(function(e,t){IS_REGEX_CAPTURING_BROKEN=""===t}));var empty=makeMap("area,base,basefont,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),inline=makeMap("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,meter,noscript,object,output,q,s,samp,script,select,small,span,strike,strong,sub,sup,svg,textarea,tt,u,var"),closeSelf=makeMap("colgroup,dd,dt,li,option,p,td,tfoot,th,thead,tr,source,img"),fillAttrs=makeMap("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),special=makeMap("script,style"),nonPhrasing=makeMap("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,ol,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track,ul"),reCache={};function attrForHandler(e){var t=singleAttrIdentifier.source+"(?:\\s*("+joinSingleAttrAssigns(e)+")[ \\t\\n\\f\\r]*(?:"+singleAttrValues.join("|")+"))?";if(e.customAttrSurround){for(var r=[],a=e.customAttrSurround.length-1;a>=0;a--)r[a]="(?:("+e.customAttrSurround[a][0].source+")\\s*"+t+"\\s*("+e.customAttrSurround[a][1].source+"))";r.push("(?:"+t+")"),t="(?:"+r.join("|")+")"}return new RegExp("^\\s*"+t)}function joinSingleAttrAssigns(e){return singleAttrAssigns.concat(e.customAttrAssign||[]).map((function(e){return"(?:"+e.source+")"})).join("|")}class HTMLParser$1{constructor(e,t){this.html=e,this.handler=t}async parse(){let e=this.html;const t=this.handler;for(var r,a,n,u,i=[],s=attrForHandler(t);e;){if(a=e,r&&special(r)){var o=r.toLowerCase(),c=reCache[o]||(reCache[o]=new RegExp("([\\s\\S]*?)</"+o+"[^>]*>","i"));e=await replaceAsync(e,c,(async(e,r)=>("script"!==o&&"style"!==o&&"noscript"!==o&&(r=r.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),t.chars&&await t.chars(r),""))),await E("</"+o+">",o)}else{var l,p=e.indexOf("<");if(0===p){if(/^<!--/.test(e)){var m=e.indexOf("--\x3e");if(m>=0){t.comment&&await t.comment(e.substring(4,m)),e=e.substring(m+3),n="";continue}}if(/^<!\[/.test(e)){var f=e.indexOf("]>");if(f>=0){t.comment&&await t.comment(e.substring(2,f+1),!0),e=e.substring(f+2),n="";continue}}var d=e.match(doctype);if(d){t.doctype&&t.doctype(d[0]),e=e.substring(d[0].length),n="";continue}var g=e.match(endTag);if(g){e=e.substring(g[0].length),await replaceAsync(g[0],endTag,E),n="/"+g[1].toLowerCase();continue}var h=A(e);if(h){e=h.rest,await y(h),n=h.tagName.toLowerCase();continue}t.continueOnParseError&&(p=e.indexOf("<",1))}p>=0?(l=e.substring(0,p),e=e.substring(p)):(l=e,e="");var C=A(e);u=C?C.tagName:(C=e.match(endTag))?"/"+C[1]:"",t.chars&&await t.chars(l,n,u),n=""}if(e===a)throw new Error("Parse Error: "+e)}function A(e){var t=e.match(startTagOpen);if(t){var r,a,n={tagName:t[1],attrs:[]};for(e=e.slice(t[0].length);!(r=e.match(startTagClose))&&(a=e.match(s));)e=e.slice(a[0].length),n.attrs.push(a);if(r)return n.unarySlash=r[1],n.rest=e.slice(r[0].length),n}}async function v(e){if(b(e)>=0)return await E("",e),!0}async function y(e){var a=e.tagName,n=e.unarySlash;if(t.html5&&("p"===r&&nonPhrasing(a)?await E("",r):"tbody"===a?await v("thead"):"tfoot"===a&&(await v("tbody")||await v("thead")),"col"===a&&b("colgroup")<0&&(r="colgroup",i.push({tag:r,attrs:[]}),t.start&&await t.start(r,[],!1,""))),!t.html5&&!inline(a))for(;r&&inline(r);)await E("",r);closeSelf(a)&&r===a&&await E("",a);var u=empty(a)||"html"===a&&"head"===r||!!n,s=e.attrs.map((function(e){var r,a,n,u,i,s;function o(t){return i=e[t],void 0!==(a=e[t+1])?'"':void 0!==(a=e[t+2])?"'":(void 0===(a=e[t+3])&&fillAttrs(r)&&(a=r),"")}IS_REGEX_CAPTURING_BROKEN&&-1===e[0].indexOf('""')&&(""===e[3]&&delete e[3],""===e[4]&&delete e[4],""===e[5]&&delete e[5]);var c=1;if(t.customAttrSurround)for(var l=0,p=t.customAttrSurround.length;l<p;l++,c+=7)if(r=e[c+1]){s=o(c+2),n=e[c],u=e[c+6];break}return!r&&(r=e[c])&&(s=o(c+1)),{name:r,value:a,customAssign:i||"=",customOpen:n||"",customClose:u||"",quote:s||""}}));u||(i.push({tag:a,attrs:s}),r=a,n=""),t.start&&await t.start(a,s,u,n)}function b(e){var t,r=e.toLowerCase();for(t=i.length-1;t>=0&&i[t].tag.toLowerCase()!==r;t--);return t}async function E(e,a){var n;if((n=a?b(a):0)>=0){for(var u=i.length-1;u>=n;u--)t.end&&t.end(i[u].tag,i[u].attrs,u>n||!e);i.length=n,r=n&&i[n-1].tag}else"br"===a.toLowerCase()?t.start&&await t.start(a,[],!0,""):"p"===a.toLowerCase()&&(t.start&&await t.start(a,[],!1,"",!0),t.end&&t.end(a,[]))}t.partialMarkup||await E()}}function Sorter(){}function TokenChain$1(){}htmlparser.HTMLParser=HTMLParser$1,htmlparser.HTMLtoXML=function(e){var t="";return new HTMLParser$1(e,{start:function(e,r,a){t+="<"+e;for(var n=0,u=r.length;n<u;n++)t+=" "+r[n].name+'="'+(r[n].value||"").replace(/"/g,"&#34;")+'"';t+=(a?"/":"")+">"},end:function(e){t+="</"+e+">"},chars:function(e){t+=e},comment:function(e){t+="\x3c!--"+e+"--\x3e"},ignore:function(e){t+=e}}),t},htmlparser.HTMLtoDOM=function(e,t){var r={html:!0,head:!0,body:!0,title:!0},a={link:"head",base:"head"};t?t=t.ownerDocument||t.getOwnerDocument&&t.getOwnerDocument()||t:"undefined"!=typeof DOMDocument?t=new DOMDocument:"undefined"!=typeof document&&document.implementation&&document.implementation.createDocument?t=document.implementation.createDocument("","",null):"undefined"!=typeof ActiveX&&(t=new ActiveXObject("Msxml.DOMDocument"));var n=[];if(!(t.documentElement||t.getDocumentElement&&t.getDocumentElement())&&t.createElement&&function(){var e=t.createElement("html"),r=t.createElement("head");r.appendChild(t.createElement("title")),e.appendChild(r),e.appendChild(t.createElement("body")),t.appendChild(e)}(),t.getElementsByTagName)for(var u in r)r[u]=t.getElementsByTagName(u)[0];var i=r.body;return new HTMLParser$1(e,{start:function(e,u,s){if(r[e])i=r[e];else{var o=t.createElement(e);for(var c in u)o.setAttribute(u[c].name,u[c].value);a[e]&&"boolean"!=typeof r[a[e]]?r[a[e]].appendChild(o):i&&i.appendChild&&i.appendChild(o),s||(n.push(o),i=o)}},end:function(){n.length-=1,i=n[n.length-1]},chars:function(e){i.appendChild(t.createTextNode(e))},comment:function(){},ignore:function(){}}),t},Sorter.prototype.sort=function(e,t){t=t||0;for(var r=0,a=this.keys.length;r<a;r++){var n=this.keys[r],u=n.slice(1),i=e.indexOf(u,t);if(-1!==i){do{i!==t&&(e.splice(i,1),e.splice(t,0,u)),t++}while(-1!==(i=e.indexOf(u,t)));return this[n].sort(e,t)}}return e},TokenChain$1.prototype={add:function(e){var t=this;e.forEach((function(r){var a="$"+r;t[a]||(t[a]=[],t[a].processed=0),t[a].push(e)}))},createSorter:function(){var e=this,t=new Sorter;return t.keys=Object.keys(e).sort((function(t,r){var a=e[t].length,n=e[r].length;return a<n?1:a>n||t<r?-1:t>r?1:0})).filter((function(r){if(e[r].processed<e[r].length){var a=r.slice(1),n=new TokenChain$1;return e[r].forEach((function(t){for(var r;-1!==(r=t.indexOf(a));)t.splice(r,1);t.forEach((function(t){e["$"+t].processed++})),n.add(t.slice(0))})),t[r]=n.createSorter(),!0}return!1})),t}};var tokenchain=TokenChain$1,CleanCSS=require$$0,decode=require$$1.decode,HTMLParser=htmlparser.HTMLParser,RelateUrl=require$$3,TokenChain=tokenchain,Terser=require$$5,utils=utils$1;function trimWhitespace(e){return e&&e.replace(/^[ \n\r\t\f]+/,"").replace(/[ \n\r\t\f]+$/,"")}function collapseWhitespaceAll(e){return e&&e.replace(/[ \n\r\t\f\xA0]+/g,(function(e){return"\t"===e?"\t":e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}))}function collapseWhitespace(e,t,r,a,n){var u="",i="";return t.preserveLineBreaks&&(e=e.replace(/^[ \n\r\t\f]*?[\n\r][ \n\r\t\f]*/,(function(){return u="\n",""})).replace(/[ \n\r\t\f]*?[\n\r][ \n\r\t\f]*$/,(function(){return i="\n",""}))),r&&(e=e.replace(/^[ \n\r\t\f\xA0]+/,(function(e){var r=!u&&t.conservativeCollapse;return r&&"\t"===e?"\t":e.replace(/^[^\xA0]+/,"").replace(/(\xA0+)[^\xA0]+/g,"$1 ")||(r?" ":"")}))),a&&(e=e.replace(/[ \n\r\t\f\xA0]+$/,(function(e){var r=!i&&t.conservativeCollapse;return r&&"\t"===e?"\t":e.replace(/[^\xA0]+(\xA0+)/g," $1").replace(/[^\xA0]+$/,"")||(r?" ":"")}))),n&&(e=collapseWhitespaceAll(e)),u+e+i}var createMapFromString=utils.createMapFromString,inlineTags=createMapFromString("a,abbr,acronym,b,bdi,bdo,big,button,cite,code,del,dfn,em,font,i,ins,kbd,label,mark,math,nobr,object,q,rp,rt,rtc,ruby,s,samp,select,small,span,strike,strong,sub,sup,svg,textarea,time,tt,u,var"),inlineTextTags=createMapFromString("a,abbr,acronym,b,big,del,em,font,i,ins,kbd,mark,nobr,rp,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"),selfClosingInlineTags=createMapFromString("comment,img,input,wbr");function collapseWhitespaceSmart(e,t,r,a){var n=t&&!selfClosingInlineTags(t);n&&!a.collapseInlineTagWhitespace&&(n="/"===t.charAt(0)?!inlineTags(t.slice(1)):!inlineTextTags(t));var u=r&&!selfClosingInlineTags(r);return u&&!a.collapseInlineTagWhitespace&&(u="/"===r.charAt(0)?!inlineTextTags(r.slice(1)):!inlineTags(r)),collapseWhitespace(e,a,n,u,t&&r)}function isConditionalComment(e){return/^\[if\s[^\]]+]|\[endif]$/.test(e)}function isIgnoredComment(e,t){for(var r=0,a=t.ignoreCustomComments.length;r<a;r++)if(t.ignoreCustomComments[r].test(e))return!0;return!1}function isEventAttribute(e,t){var r=t.customEventAttributes;if(r){for(var a=r.length;a--;)if(r[a].test(e))return!0;return!1}return/^on[a-z]{3,}$/.test(e)}function canRemoveAttributeQuotes(e){return/^[^ \t\n\f\r"'`=<>]+$/.test(e)}function attributesInclude(e,t){for(var r=e.length;r--;)if(e[r].name.toLowerCase()===t)return!0;return!1}function isAttributeRedundant(e,t,r,a){return r=r?trimWhitespace(r.toLowerCase()):"","script"===e&&"language"===t&&"javascript"===r||"form"===e&&"method"===t&&"get"===r||"input"===e&&"type"===t&&"text"===r||"script"===e&&"charset"===t&&!attributesInclude(a,"src")||"a"===e&&"name"===t&&attributesInclude(a,"id")||"area"===e&&"shape"===t&&"rect"===r}var executableScriptsMimetypes=utils.createMap(["text/javascript","text/ecmascript","text/jscript","application/javascript","application/x-javascript","application/ecmascript","module"]),keepScriptsMimetypes=utils.createMap(["module"]);function isScriptTypeAttribute(e){return""===(e=trimWhitespace(e.split(/;/,2)[0]).toLowerCase())||executableScriptsMimetypes(e)}function keepScriptTypeAttribute(e){return e=trimWhitespace(e.split(/;/,2)[0]).toLowerCase(),keepScriptsMimetypes(e)}function isExecutableScript(e,t){if("script"!==e)return!1;for(var r=0,a=t.length;r<a;r++){if("type"===t[r].name.toLowerCase())return isScriptTypeAttribute(t[r].value)}return!0}function isStyleLinkTypeAttribute(e){return""===(e=trimWhitespace(e).toLowerCase())||"text/css"===e}function isStyleSheet(e,t){if("style"!==e)return!1;for(var r=0,a=t.length;r<a;r++){if("type"===t[r].name.toLowerCase())return isStyleLinkTypeAttribute(t[r].value)}return!0}var isSimpleBoolean=createMapFromString("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),isBooleanValue=createMapFromString("true,false");function isBooleanAttribute(e,t){return isSimpleBoolean(e)||"draggable"===e&&!isBooleanValue(t)}function isUriTypeAttribute(e,t){return/^(?:a|area|link|base)$/.test(t)&&"href"===e||"img"===t&&/^(?:src|longdesc|usemap)$/.test(e)||"object"===t&&/^(?:classid|codebase|data|usemap)$/.test(e)||"q"===t&&"cite"===e||"blockquote"===t&&"cite"===e||("ins"===t||"del"===t)&&"cite"===e||"form"===t&&"action"===e||"input"===t&&("src"===e||"usemap"===e)||"head"===t&&"profile"===e||"script"===t&&("src"===e||"for"===e)}function isNumberTypeAttribute(e,t){return/^(?:a|area|object|button)$/.test(t)&&"tabindex"===e||"input"===t&&("maxlength"===e||"tabindex"===e)||"select"===t&&("size"===e||"tabindex"===e)||"textarea"===t&&/^(?:rows|cols|tabindex)$/.test(e)||"colgroup"===t&&"span"===e||"col"===t&&"span"===e||("th"===t||"td"===t)&&("rowspan"===e||"colspan"===e)}function isLinkType(e,t,r){if("link"!==e)return!1;for(var a=0,n=t.length;a<n;a++)if("rel"===t[a].name&&t[a].value===r)return!0}function isMediaQuery(e,t,r){return"media"===r&&(isLinkType(e,t,"stylesheet")||isStyleSheet(e,t))}var srcsetTags=createMapFromString("img,source");function isSrcset(e,t){return"srcset"===e&&srcsetTags(t)}async function cleanAttributeValue(e,t,r,a,n){if(isEventAttribute(t,a))return r=trimWhitespace(r).replace(/^javascript:\s*/i,""),await a.minifyJS(r,!0);if("class"===t)return r=trimWhitespace(r),r=a.sortClassName?a.sortClassName(r):collapseWhitespaceAll(r);if(isUriTypeAttribute(t,e))return r=trimWhitespace(r),isLinkType(e,n,"canonical")?r:a.minifyURLs(r);if(isNumberTypeAttribute(t,e))return trimWhitespace(r);if("style"===t)return(r=trimWhitespace(r))&&(/;$/.test(r)&&!/&#?[0-9a-zA-Z]+;$/.test(r)&&(r=r.replace(/\s*;$/,";")),r=a.minifyCSS(r,"inline")),r;if(isSrcset(t,e))r=trimWhitespace(r).split(/\s+,\s*|\s*,\s+/).map((function(e){var t=e,r="",n=e.match(/\s+([1-9][0-9]*w|[0-9]+(?:\.[0-9]+)?x)$/);if(n){t=t.slice(0,-n[0].length);var u=+n[1].slice(0,-1),i=n[1].slice(-1);1===u&&"x"===i||(r=" "+u+i)}return a.minifyURLs(t)+r})).join(", ");else if(isMetaViewport(e,n)&&"content"===t)r=r.replace(/\s+/g,"").replace(/[0-9]+\.[0-9]+/g,(function(e){return(+e).toString()}));else{if(isContentSecurityPolicy(e,n)&&"content"===t.toLowerCase())return collapseWhitespaceAll(r);if(a.customAttrCollapse&&a.customAttrCollapse.test(t))r=trimWhitespace(r.replace(/ ?[\n\r]+ ?/g,"").replace(/\s{2,}/g,a.conservativeCollapse?" ":""));else if("script"===e&&"type"===t)r=trimWhitespace(r.replace(/\s*;\s*/g,";"));else if(isMediaQuery(e,n,t))return r=trimWhitespace(r),a.minifyCSS(r,"media")}return r}function isMetaViewport(e,t){if("meta"!==e)return!1;for(var r=0,a=t.length;r<a;r++)if("name"===t[r].name&&"viewport"===t[r].value)return!0}function isContentSecurityPolicy(e,t){if("meta"!==e)return!1;for(var r=0,a=t.length;r<a;r++)if("http-equiv"===t[r].name.toLowerCase()&&"content-security-policy"===t[r].value.toLowerCase())return!0}function ignoreCSS(e){return"/* clean-css ignore:start */"+e+"/* clean-css ignore:end */"}function wrapCSS(e,t){switch(t){case"inline":return"*{"+e+"}";case"media":return"@media "+e+"{a{top:0}}";default:return e}}function unwrapCSS(e,t){var r;switch(t){case"inline":r=e.match(/^\*\{([\s\S]*)\}$/);break;case"media":r=e.match(/^@media ([\s\S]*?)\s*{[\s\S]*}$/)}return r?r[1]:e}async function cleanConditionalComment(e,t){return t.processConditionalComments?await utils.replaceAsync(e,/^(\[if\s[^\]]+]>)([\s\S]*?)(<!\[endif])$/,(async function(e,r,a,n){return r+await minify(a,t,!0)+n})):e}async function processScript(e,t,r){for(var a=0,n=r.length;a<n;a++)if("type"===r[a].name.toLowerCase()&&t.processScripts.indexOf(r[a].value)>-1)return await minify(e,t);return e}var optionalStartTags=createMapFromString("html,head,body,colgroup,tbody"),optionalEndTags=createMapFromString("html,head,body,li,dt,dd,p,rb,rt,rtc,rp,optgroup,option,colgroup,caption,thead,tbody,tfoot,tr,td,th"),headerTags=createMapFromString("meta,link,script,style,template,noscript"),descriptionTags=createMapFromString("dt,dd"),pBlockTags=createMapFromString("address,article,aside,blockquote,details,div,dl,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,hr,main,menu,nav,ol,p,pre,section,table,ul"),pInlineTags=createMapFromString("a,audio,del,ins,map,noscript,video"),rubyTags=createMapFromString("rb,rt,rtc,rp"),rtcTag=createMapFromString("rb,rtc,rp"),optionTag=createMapFromString("option,optgroup"),tableContentTags=createMapFromString("tbody,tfoot"),tableSectionTags=createMapFromString("thead,tbody,tfoot"),cellTags=createMapFromString("td,th"),topLevelTags=createMapFromString("html,head,body"),compactTags=createMapFromString("html,body"),looseTags=createMapFromString("head,colgroup,caption"),trailingTags=createMapFromString("dt,thead"),htmlTags=createMapFromString("a,abbr,acronym,address,applet,area,article,aside,audio,b,base,basefont,bdi,bdo,bgsound,big,blink,blockquote,body,br,button,canvas,caption,center,cite,code,col,colgroup,command,content,data,datalist,dd,del,details,dfn,dialog,dir,div,dl,dt,element,em,embed,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,image,img,input,ins,isindex,kbd,keygen,label,legend,li,link,listing,main,map,mark,marquee,menu,menuitem,meta,meter,multicol,nav,nobr,noembed,noframes,noscript,object,ol,optgroup,option,output,p,param,picture,plaintext,pre,progress,q,rb,rp,rt,rtc,ruby,s,samp,script,section,select,shadow,small,source,spacer,span,strike,strong,style,sub,summary,sup,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,track,tt,u,ul,var,video,wbr,xmp");function canRemoveParentTag(e,t){switch(e){case"html":case"head":return!0;case"body":return!headerTags(t);case"colgroup":return"col"===t;case"tbody":return"tr"===t}return!1}function isStartTagMandatory(e,t){switch(t){case"colgroup":return"colgroup"===e;case"tbody":return tableSectionTags(e)}return!1}function canRemovePrecedingTag(e,t){switch(e){case"html":case"head":case"body":case"colgroup":case"caption":return!0;case"li":case"optgroup":case"tr":return t===e;case"dt":case"dd":return descriptionTags(t);case"p":return pBlockTags(t);case"rb":case"rt":case"rp":return rubyTags(t);case"rtc":return rtcTag(t);case"option":return optionTag(t);case"thead":case"tbody":return tableContentTags(t);case"tfoot":return"tbody"===t;case"td":case"th":return cellTags(t)}return!1}var reEmptyAttribute=new RegExp("^(?:class|id|style|title|lang|dir|on(?:focus|blur|change|click|dblclick|mouse(?:down|up|over|move|out)|key(?:press|down|up)))$");function canDeleteEmptyAttribute(e,t,r,a){return!(r&&!/^\s*$/.test(r))&&("function"==typeof a.removeEmptyAttributes?a.removeEmptyAttributes(t,e):"input"===e&&"value"===t||reEmptyAttribute.test(t))}function hasAttrName(e,t){for(var r=t.length-1;r>=0;r--)if(t[r].name===e)return!0;return!1}function canRemoveElement(e,t){switch(e){case"textarea":return!1;case"audio":case"script":case"video":if(hasAttrName("src",t))return!1;break;case"iframe":if(hasAttrName("src",t)||hasAttrName("srcdoc",t))return!1;break;case"object":if(hasAttrName("data",t))return!1;break;case"applet":if(hasAttrName("code",t))return!1}return!0}function canCollapseWhitespace(e){return!/^(?:script|style|pre|textarea)$/.test(e)}function canTrimWhitespace(e){return!/^(?:pre|textarea)$/.test(e)}async function normalizeAttr(e,t,r,a){var n=a.name(e.name),u=e.value;if(a.decodeEntities&&u&&(u=decode(u,{isAttributeValue:!0})),!(a.removeRedundantAttributes&&isAttributeRedundant(r,n,u,t)||a.removeScriptTypeAttributes&&"script"===r&&"type"===n&&isScriptTypeAttribute(u)&&!keepScriptTypeAttribute(u)||a.removeStyleLinkTypeAttributes&&("style"===r||"link"===r)&&"type"===n&&isStyleLinkTypeAttribute(u)||(u&&(u=await cleanAttributeValue(r,n,u,a,t)),a.removeEmptyAttributes&&canDeleteEmptyAttribute(r,n,u,a))))return a.decodeEntities&&u&&(u=u.replace(/&(#?[0-9a-zA-Z]+;)/g,"&amp;$1")),{attr:e,name:n,value:u}}function buildAttr(e,t,r,a,n){var u,i,s=e.name,o=e.value,c=e.attr,l=c.quote;if(void 0===o||r.removeAttributeQuotes&&!~o.indexOf(n)&&canRemoveAttributeQuotes(o))i=!a||t||/\/$/.test(o)?o+" ":o;else{if(!r.preventAttributesEscaping){if(void 0===r.quoteCharacter)l=(o.match(/'/g)||[]).length<(o.match(/"/g)||[]).length?"'":'"';else l="'"===r.quoteCharacter?"'":'"';o='"'===l?o.replace(/"/g,"&#34;"):o.replace(/'/g,"&#39;")}i=l+o+l,a||r.removeTagWhitespace||(i+=" ")}return void 0===o||r.collapseBooleanAttributes&&isBooleanAttribute(s.toLowerCase(),o.toLowerCase())?(u=s,a||(u+=" ")):u=s+c.customAssign+i,c.customOpen+u+c.customClose}function identity(e){return e}function processOptions(e){var t={name:function(e){return e.toLowerCase()},canCollapseWhitespace:canCollapseWhitespace,canTrimWhitespace:canTrimWhitespace,html5:!0,ignoreCustomComments:[/^!/,/^\s*#/],ignoreCustomFragments:[/<%[\s\S]*?%>/,/<\?[\s\S]*?\?>/],includeAutoGeneratedTags:!0,log:identity,minifyCSS:identity,minifyJS:identity,minifyURLs:identity};return Object.keys(e).forEach((function(r){var a=e[r];if("caseSensitive"===r)a&&(t.name=identity);else if("log"===r)"function"==typeof a&&(t.log=a);else if("minifyCSS"===r&&"function"!=typeof a){if(!a)return;"object"!=typeof a&&(a={}),t.minifyCSS=function(e,r){e=e.replace(/(url\s*\(\s*)("|'|)(.*?)\2(\s*\))/gi,(function(e,r,a,n,u){return r+a+t.minifyURLs(n)+a+u}));var n=new CleanCSS(a).minify(wrapCSS(e,r));return n.errors.length>0?(n.errors.forEach(t.log),e):unwrapCSS(n.styles,r)}}else if("minifyJS"===r&&"function"!=typeof a){if(!a)return;"object"!=typeof a&&(a={}),(a.parse||(a.parse={})).bare_returns=!1,t.minifyJS=async function(e,r){var n=e.match(/^\s*<!--.*/),u=n?e.slice(n[0].length).replace(/\n\s*-->\s*$/,""):e;a.parse.bare_returns=r;try{return(await Terser.minify(u,a)).code.replace(/;$/,"")}catch(r){return t.log(r),e}}}else if("minifyURLs"===r&&"function"!=typeof a){if(!a)return;"string"==typeof a?a={site:a}:"object"!=typeof a&&(a={}),t.minifyURLs=function(e){try{return RelateUrl.relate(e,a)}catch(r){return t.log(r),e}}}else t[r]=a})),t}function uniqueId(e){var t;do{t=Math.random().toString(36).replace(/^0\.[0-9]*/,"")}while(~e.indexOf(t));return t}var specialContentTags=createMapFromString("script,style");async function createSortFns(e,t,r,a){var n=t.sortAttributes&&Object.create(null),u=t.sortClassName&&new TokenChain;function i(e){return e.map((function(e){return t.name(e.name)}))}function s(e,t){return!t||-1===e.indexOf(t)}function o(e){return s(e,r)&&s(e,a)}var c=t.log;if(t.log=identity,t.sortAttributes=!1,t.sortClassName=!1,await async function e(r){var a,s;const c=new HTMLParser(r,{start:function(e,r){n&&(n[e]||(n[e]=new TokenChain),n[e].add(i(r).filter(o)));for(var c=0,l=r.length;c<l;c++){var p=r[c];u&&p.value&&"class"===t.name(p.name)?u.add(trimWhitespace(p.value).split(/[ \t\n\f\r]+/).filter(o)):t.processScripts&&"type"===p.name.toLowerCase()&&(a=e,s=p.value)}},end:function(){a=""},chars:async function(r){t.processScripts&&specialContentTags(a)&&t.processScripts.indexOf(s)>-1&&await e(r)}});await c.parse()}(await minify(e,t)),t.log=c,n){var l=Object.create(null);for(var p in n)l[p]=n[p].createSorter();t.sortAttributes=function(e,t){var r=l[e];if(r){var a=Object.create(null),n=i(t);n.forEach((function(e,r){(a[e]||(a[e]=[])).push(t[r])})),r.sort(n).forEach((function(e,r){t[r]=a[e].shift()}))}}}if(u){var m=u.createSorter();t.sortClassName=function(e){return m.sort(e.split(/[ \n\f\r]+/)).join(" ")}}}async function minify(e,t,r){t.collapseWhitespace&&(e=collapseWhitespace(e,t,!0,!0));var a,n,u,i,s,o=[],c="",l="",p=[],m=[],f=[],d="",g="",h=[],C=[];e=e.replace(/<!-- htmlmin:ignore -->([\s\S]*?)<!-- htmlmin:ignore -->/g,(function(r,a){if(!u){u=uniqueId(e);var n=new RegExp("^"+u+"([0-9]+)$");t.ignoreCustomComments?t.ignoreCustomComments=t.ignoreCustomComments.slice():t.ignoreCustomComments=[],t.ignoreCustomComments.push(n)}var i="\x3c!--"+u+h.length+"--\x3e";return h.push(a),i}));var A=t.ignoreCustomFragments.map((function(e){return e.source}));if(A.length){var v=new RegExp("\\s*(?:"+A.join("|")+")+\\s*","g");e=e.replace(v,(function(r){var a;i||(i=uniqueId(e),s=new RegExp("(\\s*)"+i+"([0-9]+)"+i+"(\\s*)","g"),t.minifyCSS&&(t.minifyCSS=(a=t.minifyCSS,function(e,t){e=e.replace(s,(function(e,t,r){var a=C[+r];return a[1]+i+r+i+a[2]}));var r=[];return(new CleanCSS).minify(wrapCSS(e,t)).warnings.forEach((function(t){var a=s.exec(t);if(a){var n=i+a[2]+i;e=e.replace(n,ignoreCSS(n)),r.push(n)}})),e=a(e,t),r.forEach((function(t){e=e.replace(ignoreCSS(t),t)})),e})),t.minifyJS&&(t.minifyJS=function(e){return function(t,r){return e(t.replace(s,(function(e,t,r){var a=C[+r];return a[1]+i+r+i+a[2]})),r)}}(t.minifyJS)));var n=i+C.length+i;return C.push(/^(\s*)[\s\S]*?(\s*)$/.exec(r)),"\t"+n+"\t"}))}function y(e,r){return t.canTrimWhitespace(e,r,canTrimWhitespace)}function b(){for(var e=o.length-1;e>0&&!/^<[^/!]/.test(o[e]);)e--;o.length=Math.max(0,e)}function E(){for(var e=o.length-1;e>0&&!/^<\//.test(o[e]);)e--;o.length=Math.max(0,e)}function S(e,r){for(var a=null;e>=0&&y(a);e--){var n=o[e],u=n.match(/^<\/([\w:-]+)>$/);if(u)a=u[1];else if(/>$/.test(n)||(o[e]=collapseWhitespaceSmart(n,null,r,t)))break}}function B(e){var t=o.length-1;if(o.length>1){var r=o[o.length-1];/^(?:<!|$)/.test(r)&&-1===r.indexOf(u)&&t--}S(t,e)}(t.sortAttributes&&"function"!=typeof t.sortAttributes||t.sortClassName&&"function"!=typeof t.sortClassName)&&await createSortFns(e,t,u,i);const F=new HTMLParser(e,{partialMarkup:r,continueOnParseError:t.continueOnParseError,customAttrAssign:t.customAttrAssign,customAttrSurround:t.customAttrSurround,html5:t.html5,start:async function(e,r,u,s,h){"svg"===e.toLowerCase()&&((t=Object.create(t)).caseSensitive=!0,t.keepClosingSlash=!0,t.name=identity),e=t.name(e),l=e,a=e,inlineTextTags(e)||(c=""),n=!1,p=r;var C=t.removeOptionalTags;if(C){var A=htmlTags(e);A&&canRemoveParentTag(d,e)&&b(),d="",A&&canRemovePrecedingTag(g,e)&&(E(),C=!isStartTagMandatory(g,e)),g=""}t.collapseWhitespace&&(m.length||B(e),u||(y(e,r)&&!m.length||m.push(e),function(e,r){return t.canCollapseWhitespace(e,r,canCollapseWhitespace)}(e,r)&&!f.length||f.push(e)));var v="<"+e,S=s&&t.keepClosingSlash;o.push(v),t.sortAttributes&&t.sortAttributes(e,r);for(var F=[],T=r.length,w=!0;--T>=0;){var D=await normalizeAttr(r[T],r,e,t);D&&(F.unshift(buildAttr(D,S,t,w,i)),w=!1)}F.length>0?(o.push(" "),o.push.apply(o,F)):C&&optionalStartTags(e)&&(d=e),o.push(o.pop()+(S?"/":"")+">"),h&&!t.includeAutoGeneratedTags&&(b(),d="")},end:function(e,r,u){"svg"===e.toLowerCase()&&(t=Object.getPrototypeOf(t)),e=t.name(e),t.collapseWhitespace&&(m.length?e===m[m.length-1]&&m.pop():B("/"+e),f.length&&e===f[f.length-1]&&f.pop());var i=!1;e===l&&(l="",i=!n),t.removeOptionalTags&&(i&&topLevelTags(d)&&b(),d="",!htmlTags(e)||!g||trailingTags(g)||"p"===g&&pInlineTags(e)||E(),g=optionalEndTags(e)?e:""),t.removeEmptyElements&&i&&canRemoveElement(e,r)?(b(),d="",g=""):(u&&!t.includeAutoGeneratedTags?g="":o.push("</"+e+">"),a="/"+e,inlineTags(e)?i&&(c+="|"):c="")},chars:async function(e,r,i){if(r=""===r?"comment":r,i=""===i?"comment":i,t.decodeEntities&&e&&!specialContentTags(l)&&(e=decode(e)),t.collapseWhitespace){if(!m.length){if("comment"===r){var h=o[o.length-1];if(-1===h.indexOf(u)&&(h||(r=a),o.length>1&&(!h||!t.conservativeCollapse&&/ $/.test(c)))){var A=o.length-2;o[A]=o[A].replace(/\s+$/,(function(t){return e=t+e,""}))}}if(r)if("/nobr"===r||"wbr"===r){if(/^\s/.test(e)){for(var v=o.length-1;v>0&&0!==o[v].lastIndexOf("<"+r);)v--;S(v-1,"br")}}else inlineTextTags("/"===r.charAt(0)?r.slice(1):r)&&(e=collapseWhitespace(e,t,/(?:^|\s)$/.test(c)));!(e=r||i?collapseWhitespaceSmart(e,r,i,t):collapseWhitespace(e,t,!0,!0))&&/\s$/.test(c)&&r&&"/"===r.charAt(0)&&S(o.length-1,i)}f.length||"html"===i||r&&i||(e=collapseWhitespace(e,t,!1,!1,!0))}t.processScripts&&specialContentTags(l)&&(e=await processScript(e,t,p)),isExecutableScript(l,p)&&(e=await t.minifyJS(e)),isStyleSheet(l,p)&&(e=t.minifyCSS(e)),t.removeOptionalTags&&e&&(("html"===d||"body"===d&&!/^\s/.test(e))&&b(),d="",(compactTags(g)||looseTags(g)&&!/^\s/.test(e))&&E(),g=""),a=/^\s*$/.test(e)?r:"comment",t.decodeEntities&&e&&!specialContentTags(l)&&(e=e.replace(/&((?:Iacute|aacute|uacute|plusmn|Otilde|otilde|agrave|Agrave|Yacute|yacute|Oslash|oslash|atilde|Atilde|brvbar|ccedil|Ccedil|Ograve|curren|divide|eacute|Eacute|ograve|Oacute|egrave|Egrave|Ugrave|frac12|frac14|frac34|ugrave|oacute|iacute|Ntilde|ntilde|Uacute|middot|igrave|Igrave|iquest|Aacute|cedil|laquo|micro|iexcl|Icirc|icirc|acirc|Ucirc|Ecirc|ocirc|Ocirc|ecirc|ucirc|Aring|aring|AElig|aelig|acute|pound|raquo|Acirc|times|THORN|szlig|thorn|COPY|auml|ordf|ordm|Uuml|macr|uuml|Auml|ouml|Ouml|para|nbsp|euml|quot|QUOT|Euml|yuml|cent|sect|copy|sup1|sup2|sup3|iuml|Iuml|ETH|shy|reg|not|yen|amp|AMP|REG|uml|eth|deg|gt|GT|LT|lt)(?!;)|(?:#?[0-9a-zA-Z]+;))/g,"&amp$1").replace(/</g,"&lt;")),s&&t.collapseWhitespace&&m.length&&(e=e.replace(s,(function(e,t,r){return C[+r][0]}))),c+=e,e&&(n=!0),o.push(e)},comment:async function(e,r){var a=r?"<!":"\x3c!--",n=r?">":"--\x3e";e=isConditionalComment(e)?a+await cleanConditionalComment(e,t)+n:t.removeComments?isIgnoredComment(e,t)?"\x3c!--"+e+"--\x3e":"":a+e+n,t.removeOptionalTags&&e&&(d="",g=""),o.push(e)},doctype:function(e){o.push(t.useShortDoctype?"<!doctype"+(t.removeTagWhitespace?"":" ")+"html>":collapseWhitespaceAll(e))}});return await F.parse(),t.removeOptionalTags&&(topLevelTags(d)&&b(),g&&!trailingTags(g)&&E()),t.collapseWhitespace&&B("br"),joinResultSegments(o,t,s?function(e){return e.replace(s,(function(e,r,a,n){var u=C[+a][0];return t.collapseWhitespace?("\t"!==r&&(u=r+u),"\t"!==n&&(u+=n),collapseWhitespace(u,{preserveLineBreaks:t.preserveLineBreaks,conservativeCollapse:!t.trimCustomFragments},/^[ \n\r\t\f]/.test(u),/[ \n\r\t\f]$/.test(u))):u}))}:identity,u?function(e){return e.replace(new RegExp("\x3c!--"+u+"([0-9]+)--\x3e","g"),(function(e,t){return h[+t]}))}:identity)}function joinResultSegments(e,t,r,a){var n,u=t.maxLineLength;if(u){for(var i="",s=[];e.length;){var o=i.length,c=e[0].indexOf("\n");c<0?i+=a(r(e.shift())):(i+=a(r(e[0].slice(0,c))),e[0]=e[0].slice(c+1)),o>0&&i.length>u?(s.push(i.slice(0,o)),i=i.slice(o)):c>=0&&(s.push(i),i="")}i&&s.push(i),n=s.join("\n")}else n=a(r(e.join("")));return t.collapseWhitespace?collapseWhitespace(n,t,!0,!0):n}var minify_1=htmlminifier.minify=async function(e,t){var r=Date.now();t=processOptions(t||{});var a=await minify(e,t);return t.log("minified in: "+(Date.now()-r)+"ms"),a};export{htmlminifier as default,minify_1 as minify};